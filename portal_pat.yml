name: Portal Pat Issue Whisperer

on:
  issues:
    types: [opened]

jobs:
  whisper:
    runs-on: ubuntu-latest

    steps:
      - name: Portal Pat opens the portal...
        run: |
          RESPONSES=(
            "ðŸŒ€ Welcome, traveler! You have opened portal #$RANDOM."
            "ðŸŒˆ This issue smells like interdimensional cheese."
            "ðŸ§™â€â™‚ï¸ The council of elders has been notified."
            "ðŸšª Portal Pat says: 'Yes, but what if it's also a banana?'"
            "ðŸŽ© Please insert one hat to continue."
            "ðŸª Madame Cookie senses a disturbance in the dough."
            "ðŸ“¦ This issue has been boxed, labeled, and shipped to another dimension."
            "ðŸŽ­ Identity confirmed: You are now Gligma Fork #$RANDOM"
            "ðŸ‡ Hop down the stacktrace, Alice."
            "ðŸ”® Starla Moonshadow predicted this bug in her sleep."
            "ðŸ–¥ï¸ Chuck Norris doesnâ€™t debug. The code fixes itself out of fear."
            "ðŸ¥‹ Steven Seagal once stared at a bluescreen until it turned green."
            "ðŸ’¾ Chuck Norris wrote Windows 95... in 1993... using only Notepad."
            "ðŸ•¶ï¸ Steven Seagal doesnâ€™t run antivirus. Viruses uninstall *themselves*."
            "ðŸ’£ Chuck Norris can divide by zero. On purpose. With a keyboard slam."
            "âš¡ Steven Seagal roundhouse-kicked the floppy disk into extinction."
            "ðŸš« Chuck Norris didnâ€™t accept the EULA. Microsoft did."
            "ðŸ”¥ Steven Seagal once defragged a hard drive using Tai Chi."
            "ðŸ‘Š Chuck Norris can write an infinite loop... and break it with a wink."
            "ðŸŽ¤ Steven Seagal connected a printer using interpretive dance."
          )
PICK="${RESPONSES[$((RANDOM % ${#RESPONSES[@]}))]}"
          echo "$PICK"

          echo "## ðŸŒ€ Portal #${{ github.event.issue.number }} â€” $(date)" >> PORTAL_LOG.md
          echo "**Opened by:** @${{ github.event.issue.user.login }}" >> PORTAL_LOG.md
          echo "**Whispered wisdom:** \"$PICK\"" >> PORTAL_LOG.md
          echo "---" >> PORTAL_LOG.md

      - name: Commit portal log
        run: |
          git config --global user.name "Portal Pat Bot"
          git config --global user.email "portal@pat.bot"
          git add PORTAL_LOG.md
          git commit -m "Log Portal #${{ github.event.issue.number }}"
          git push
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
 
